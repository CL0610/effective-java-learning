- 问题

  枚举类有一个ordinal方法，用来表示枚举值在类型中的索引位置，这个方法看起来很美好，但是真的方便维护吗？

- 原因

  许多枚举天生就与一个单独的int值相关联。所有的枚举都有一个ordinal方法，它返回每个枚举常量在类型中的数字位置，如下例：

  ```
  public enum Ensemble {
    SOLO, DUET, TRIO, QUINTET, SEXTET, SEPTET ,OCTET, NONET, DECTET;
    public int numberOfMusicians(){
      return ordinal() + 1;
    }
  }
  
  ```

  这个方法的本意是通过枚举常量在类中的序号来表示每种音乐类型演奏的人数。虽然这个枚举不错，但是维护起来就像一场噩梦。如果常量重新排序，`numberOfMusicians`方法就会遭到破坏。好的做法应该是：**永远不要根据枚举的序号导出与它有关的值，而是要将它保存到一个实例中：**

  ```
  public enum Ensemble{
    SOLO(1), DUET(2), TRIO(3), QUINTET(4), SEXTET(5), 
    SEPTET(7), OCTET(8), DOUBLE_QUARTET(8), NONET(9),
    DECTET(10), TRIPLE_QUARTRT(12);
    
    private final int numberOfMusicians;
    Ensemble(int size){
      this.numberOfMusicians = size;
    }
    public int numberofMusicians(){
      return numberOfMusicians;
    }
  }
  
  ```

- 结论

  Enum规范中谈到ordinal时这么写到：“大多数的程序员都不需要这个方法。它是设计成用于像EnumSet和EnumMap这种基于枚举的通用数据结构的。”除非你在编写的是这种数据结构，否则最好完全避免使用ordinal方法。 